package me.present.ui;

import java.util.Collections;
import java.util.Comparator;

import me.present.Present;
import me.present.modules.Module;
import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.Gui;
import net.minecraft.client.gui.ScaledResolution;

public class UIRenderer extends Gui {
	
	private Minecraft mc = Minecraft.getMinecraft();
	
	public static class ModuleComparator implements Comparator<Module> {

		@Override
		public int compare(Module arg0, Module arg1) {
			if(Minecraft.getMinecraft().fontRendererObj.getStringWidth(arg0.name) > Minecraft.getMinecraft().fontRendererObj.getStringWidth(arg1.name)) {
				return -1;
			}
			if(Minecraft.getMinecraft().fontRendererObj.getStringWidth(arg0.name) > Minecraft.getMinecraft().fontRendererObj.getStringWidth(arg1.name)) {
				return 1;
			}
			return 0;
		}
		
	}

	public void draw() {
		ScaledResolution sr = new ScaledResolution(mc);
		
		Collections.sort(Present.modules, new ModuleComparator()); 
		
		mc.fontRendererObj.drawString(Present.clientName + " " + Present.clientVersion, 1, 1, 0xffffff);
		
		int count = 0;
		for(Module module : Present.modules) {
			if(!module.isEnabled())
				continue;
			
			Gui.drawRect(sr.getScaledWidth() - mc.fontRendererObj.getStringWidth(module.name) - 3, count*(mc.fontRendererObj.FONT_HEIGHT +1), sr.getScaledWidth(), 1 + mc.fontRendererObj.FONT_HEIGHT + count*(mc.fontRendererObj.FONT_HEIGHT +2), 0x90000000);
			mc.fontRendererObj.drawString(module.name, sr.getScaledWidth() - mc.fontRendererObj.getStringWidth(module.name) - 1, 1 + count*(mc.fontRendererObj.FONT_HEIGHT +2), 0xffffff);
			
			count++;
			
		}
	}
	
}
