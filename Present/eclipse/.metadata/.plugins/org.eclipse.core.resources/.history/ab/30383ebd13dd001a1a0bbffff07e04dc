package me.present.render;

import java.util.List;

import org.lwjgl.input.Keyboard;

import me.present.Present;
import me.present.events.Event;
import me.present.listeners.EventKey;
import me.present.listeners.EventRenderGUI;
import me.present.listeners.EventUpdate;
import me.present.modules.Module;
import net.minecraft.client.gui.FontRenderer;
import net.minecraft.client.gui.Gui;

public class TabGUI extends Module {
	
	public int currentTab, moduleIndex;
	public boolean expanded;
	
	public TabGUI() {
		super("TabGUI", Keyboard.KEY_NONE, Category.RENDER);
		toggled = true;
	}
	
	public void onEvent(Event e) {
		if(e instanceof EventRenderGUI) {
			FontRenderer fr = mc.fontRendererObj;
		
			Gui.drawRect(2, 11, 53, 72, 0x98700000);
			Gui.drawRect(3, 14 + currentTab * 15 - 1, 52, 14 + currentTab * 15 + 11, -0x8B0000);
			
			int count = 0;
			for(Category c : Module.Category.values()) {
				fr.drawStringWithShadow(c.name, 5, 15 + count * 15, -1);
			
				count++;
				
			}
			
			List<Module> modules = Present.getModulesByCategory(Module.Category.values()[currentTab]);
			
			Gui.drawRect(53, 11, 53 + 53, 27 + modules.size() * 7, 0x98700000);
			Gui.drawRect(54, 14 + moduleIndex * 15 - 1, 52 + 53, 14 + moduleIndex * 15 + 11, -0x8B0000);
			
			count = 0;
			for(Module m : modules) {
				fr.drawStringWithShadow(m.name, 5 + 53, 15 + count * 15, -1);
			
				count++;
				
			}
		}
		if(e instanceof EventKey) {
			int code = ((EventKey)e).code;
			
			if(code == Keyboard.KEY_UP) {
				if(currentTab <= 0) {
					currentTab = Module.Category.values().length - 1;
			}else
				currentTab--;
			}
			
			if(code == Keyboard.KEY_DOWN) {
				if(currentTab >= Module.Category.values().length - 1) {
					currentTab = 0;
				}else
					currentTab++;
			}
			
			if(code == Keyboard.KEY_RIGHT) {
				expanded = true;
			}
			
			if(code == Keyboard.KEY_LEFT) {
				expanded = false;
			}
		}
	}
}





